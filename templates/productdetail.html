{% extends 'base.html' %}
{% load static %}
{% block content %}

<body>
  <section class="container dproduct my-5 pt-5">
    <div class="row mt-5">
      <div class="col-lg-5">
        <div class="card-img-details" id="productImg"
          style="background-image: url({{productDetails.product_image.url}});">
        </div>
        <div class="small-img-group d-flex justify-content-start">
          {% for pi in productDetails.productimage_set.all %}
          <div class="small-img-col">
            <div class="card-img-details-small" style="background-image: url({{pi.image.url}});">
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
      <div class="col-lg-4 seller-form-section">
        <div class="seller-details" style="width: 90%;">
          <h5><b>Seller Details</b></h5>
          <div>
            <div class="d-flex justify-content-between mb-2">
              <h6>Sold By: </h6>
              <h6>{{productDetails.seller_name}}</h6>
            </div>
            <div class="d-flex justify-content-between mb-2">
              <h6>Phone Number: </h6>
              <h6>{{productDetails.phone_number}}</h6>
            </div>
            <div class="d-flex justify-content-between mb-2">
              <h6>Location: </h6>
              <h6>{{productDetails.address}}</h6>
            </div>
            <div class="d-flex justify-content-between mb-2">
              <h6>EmailAddress: </h6>
              <h6>{{productDetails.email_address}}</h6>
            </div>
          </div>
        </div>
        <hr style="width: 90%;">
        <div class="row mt-5">
          <div class="negotiable" style="width: 90%;">
            <h5><b>Pricing Details</b></h5>
            <div>
              <div class="d-flex justify-content-between mb-2">
                <h6>Price: </h6>
                <h6>{{productDetails.item_price}}</h6>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <h6>Price Negotiable: </h6>
                <h6>{{productDetails.price_negotiable}}</h6>
              </div>
            </div>
          </div>
        </div>
        <hr style="width: 90%;">
        <div class="row mt-5">
          <div class="product-detail" style="width: 90%;">
            <h5><b>Product Details</b></h5>
            <div>
              <div class="d-flex justify-content-between mb-2">
                <h6>Condition: </h6>
                <h6>{{productDetails.condition}}</h6>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <h6>Size: </h6>
                <h6>{{productDetails.size}}</h6>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <h6>Colour: </h6>
                <h6>{{productDetails.colour}}</h6>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <h6>Material: </h6>
                <h6>{{productDetails.material}}</h6>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <h6>Rating: </h6>
                <h6>{{productDetails.rating}}</h6>
              </div>
            </div>
          </div>
        </div>
        <hr style="width: 90%;">
      </div>
      <div class="col-lg-3 mb-4">
        <h5><b>Similar Products</b></h5>
        <div class="row">
          {% for product in products.all|slice:"0: 4" %}
          <div class="col-lg-6 mb-3">
            <div class="card bg-transparent border-0">
              <div class="card-body">
                <a href="/productde tail/{{ product.id }}">
                  <div class="card-img-similar mb-3" style="background-image: url({{product.product_image.url}});">
                  </div>
                </a>
                <div>
                  <h6 class="card-title">{{ product.title }}</h6>
                  <h6 class="card-text">Rs {{ product.item_price }}</h6>
                </div>
                <!-- <hr>
                  <button class="btn btn-primary item-name" onclick="location.href = '/productdetail/{{ product.id }}'">
                    View Details
                  </button> -->
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    </div>
  </section>
</body>
<script>
  var productImg = document.getElementById("productImg");
  var smallimg = document.getElementsByClassName("card-img-details-small");

  smallimg[0].onclick = function () {
    console.log(smallimg[0].style.backgroundImage)
    productImg.style.backgroundImage = smallimg[0].style.backgroundImage;
  }
  smallimg[1].onclick = function () {
    productImg.style.backgroundImage = smallimg[1].style.backgroundImage;
  }
  smallimg[2].onclick = function () {
    productImg.style.backgroundImage = smallimg[2].style.backgroundImage;
  }
</script>
<style>
  .small-img-col {
    flex-basis: 25%;
    cursor: pointer;
    width: 50px;
    overflow: hidden;
  }

  .small-img-col:hover {
    transform: scale(1.2);
  }
</style>
{% endblock content %}